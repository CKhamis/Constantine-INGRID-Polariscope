<!DOCTYPE html>
<script th:fragment="gradient">
    function getColorGradient(value, min, max) {
        // Ensure value is within bounds
        value = Math.max(min, Math.min(max, value));

        // Calculate the proportion (0 to 1)
        let proportion = (value - min) / (max - min);

        let r, g, b;
        if (proportion <= 0.5) {
            // From red to yellow
            proportion *= 2; // Scale to 0-1 within the red to yellow range
            r = 255;
            g = Math.round(255 * proportion);
            b = 0;
        } else {
            // From yellow to green
            proportion = (proportion - 0.5) * 2; // Scale to 0-1 within the yellow to green range
            r = Math.round(255 * (1 - proportion));
            g = 255;
            b = 0;
        }

        // Return the color in rgb format
        return `rgb(${r}, ${g}, ${b})`;
    }
</script>
<script th:fragment="gradient-2">
    function greyToGreenGradient(min, max, num) {
        // Clamp num to be within the range of min and max
        num = Math.max(min, Math.min(max, num));

        // Calculate the proportion of num within the range
        const scale = (num - min) / (max - min);

        // Ensure the scale is between 0 and 1
        const clampedScale = Math.min(1, Math.max(0, scale));

        const grey = 30;

        let green = grey + clampedScale * (200 - grey);

        // Return the RGB string
        return `rgb(${grey}, ${green}, ${grey})`;
    }
</script>